<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			#box{width:470px; height: 150px; background:url(images/0.jpg) no-repeat; margin:50px auto ; position:relative; perspective: 1200px;}
			#box .pag1{width: 50%; height: 100%; position: absolute; top: 0; right: 0; transform-style:preserve-3d; transistion:1s all ease; z-index:2; transform-origin:left center ;}
			#box .pag1 span{width: 100%; height: 100%; position: absolute; top: 0; left: 0;}
			.front{background: url(images/0.jpg) no-repeat right top; transform: translateZ(1.1px);}
			.back{background: url(images/1.jpg) no-repeat left top; transform: translateZ(-1.1px) scale(-1,1);}
			.pag2{width:50%; position:absolute; right:0; top:0; height:100%; background:url(images/1.jpg) no-repeat right top; z-index:1;}
		</style>
		<script>
			window.onload = function(){
				var oBox = document.getElementById('box');
				var oPag = document.querySelector('#box .pag1');
				var oFront = document.querySelector('#box .pag1 .front');
				var oBack = document.querySelector('#box .pag1 .back');
				var oPag2 = document.querySelector('#box .pag2');
				
				var iNow=0;
				var bReady=true;
				oBox.onclick = function(){
					if(bReady==false) return;
					bReady=false;
					
					iNow++;
					oPag.style.transition = '1s all ease';
					oPag.style.transform = 'rotateY(-180deg)';
					
					oPag.addEventListener('transitionend',function(){
						oPag.style.transition = 'none';
						oPag.style.transform = 'rotateY(0deg)';
						
						oFront.style.backgroundImage = oBox.style.backgroundImage = 'url(images/'+iNow%5+'.jpg)';  //5有几张banner就%几
						oBack.style.backgroundImage = oPag2.style.backgroundImage = 'url(images/'+(iNow+1)%5+'.jpg)';
						bReady=true;
					},false);
				}
			}
		</script>
	</head>
	<body>
	 	<div style="text-align:center; padding-top:40px">点击查看效果</div>
		<div id="box">
			<div class="pag1">
				<span class="front"></span>
				<span class="back"></span>
			</div>
			<div class="pag2"></div>
		</div>
	</body>
</html>
