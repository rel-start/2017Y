(function($){$.yanTooltip=function(el,options){var base=this;base.opts=$.extend({},$.yanTooltip.defaults,options);base._init(el)};$.yanTooltip.prototype._init=function(el){var base=this,$element=$(el);$element.data('Tooltip',{tooltip:null,hide_timeout:null });base._event($element)};$.yanTooltip.prototype._event=function($element){var base=this;$element.on('mouseenter mouseleave',function(e){var tooltip_info=$element.data('Tooltip');if(e.type==='mouseenter'){if(!tooltip_info.tooltip){var offset=$element.offset(),element_top=offset.top,element_left=offset.left,element_height=$element.outerHeight(),element_width=$element.outerWidth(),tooltip=jQuery('<div>',{'class':'ty_Tip','css':{'width':base.opts.max_width}}),arrow=jQuery('<div>',{'class':'ty_Tip__Arrow'}),message=jQuery('<div>',{'class':'ty_Tip__Message','css':{'margin-top':base.opts.vertical_offset}}).appendTo(tooltip).html(base.opts.content);var tooltip_width=tooltip.outerWidth();arrow.css('left',(tooltip_width/2)-8).appendTo(tooltip);tooltip.appendTo('body');if(base.opts.onShowOnce&&typeof base.opts.onShowOnce==='function'){base.opts.onShowOnce.call($element,message)}var tooltip_top=element_top+element_height;tooltip.css({'top':tooltip_top+base.opts.animation_offset,'left':element_left-(base.opts.max_width/2-element_width/2)});$.extend(tooltip_info,{'tooltip':tooltip,'tooltip_top':tooltip_top,'element_top':element_top,'element_left':element_left,'element_height':element_height,'element_width':element_width});tooltip.mouseenter(function(){base._show($element)});tooltip.mouseleave(function(){base._hide($element)})}base._show($element )}else if(e.type==='mouseleave'){base._hide($element)}});};$.yanTooltip.prototype._hide=function($element){var base=this,tooltip_info=$element.data('Tooltip');clearTimeout(tooltip_info.hide_timeout);tooltip_info.hide_timeout=setTimeout(function(){tooltip_info.tooltip.stop();tooltip_info.tooltip.animate({'top':tooltip_info.tooltip_top+base.opts.animation_offset,'opacity':0},base.opts.animation_speed,function(){tooltip_info.tooltip.css('display','none')});},base.opts.hide_daly)};$.yanTooltip.prototype._show=function($element){var base=this,tooltip_info=$element.data('Tooltip');clearTimeout(tooltip_info.hide_timeout);tooltip_info.tooltip.css('display','block');tooltip_info.tooltip.stop();tooltip_info.tooltip.animate({'top':tooltip_info.tooltip_top,'opacity':1},base.opts.animation_speed)};$.yanTooltip.defaults={content:'',max_width:265,vertical_offset:10,hide_daly:100,animation_speed:250,animation_offset:20,onShowOnce:null};$.fn.yanTooltip=function(options){return this.each(function(){new $.yanTooltip(this,options)})}})(jQuery);